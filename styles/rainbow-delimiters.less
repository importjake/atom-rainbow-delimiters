@import 'syntax-variables';

@hues: 50;
@saturation: 100%;
@luminosity: 60%;
@fade: 40%;


.rainbow-error .region:before {
  color: @syntax-color-removed;
  text-decoration: underline;
}

.generate-rainbows(@n, @i: 1) when (@i =< @n) {
  @hue: @i * 55;
  @saturation: (90 - 10 * floor(@i / 10)) / 100;
  @luminosity: (50 - 10 * floor(@i / 10)) / 100;
  @color: hsl(@hue, @saturation, @luminosity);

  .rainbow-@{i} .region:before {
    @slice: contrast(@syntax-background-color, tint(@color, @fade), shade(@color, @fade));
    color: @slice;
  }
  .generate-rainbows(@n, (@i + 1));
}

.generate-rainbows(@hues);

atom-text-editor .rainbow .region {
  z-index: 1000;
  font-weight: 500;
}

.rainbow-char-123 .region:before {
    content: "{";
}

.rainbow-char-125 .region:before {
    content: "}";
}

.rainbow-char-40 .region:before {
    content: "(";
}

.rainbow-char-41 .region:before {
    content: ")";
}

.rainbow-char-91 .region:before {
    content: "[";
}

.rainbow-char-93 .region:before {
    content: "]";
}
